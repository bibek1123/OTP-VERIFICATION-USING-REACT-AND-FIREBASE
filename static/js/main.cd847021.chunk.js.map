{"version":3,"sources":["components/SignIn.js","components/Home.js","App.js","index.js"],"names":["SignIn","loginSubmit","otpSubmit","viewOtpForm","className","onSubmit","id","type","name","autoComplete","maxLength","placeholder","Home","signOut","user","console","log","phoneNumber","onClick","App","useState","setViewOtpForm","setUser","useEffect","window","recaptchaVerifier","firebase","auth","RecaptchaVerifier","size","callback","response","this","onSignInSubmit","defaultCountry","apps","length","app","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","onAuthStateChanged","path","exact","then","open","catch","error","e","preventDefault","phone_number","target","phone","value","appVerifier","signInWithPhoneNumber","confirmationResult","alert","message","opt_number","otp_value","confirm","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.cd847021.chunk.js","sourcesContent":["import React from \"react\";\n\nconst SignIn = ({ loginSubmit, otpSubmit, viewOtpForm }) => {\n  return (\n    <div className=\"wrapper\">\n      <h1 className=\"main-heading\">PHONE VERIFICATION</h1>\n      <hr />\n      {!viewOtpForm ? (\n        <div className=\"form-wrapper\">\n          <form id=\"loginForm\" onSubmit={loginSubmit}>\n            <div className=\"input-field-login\">\n              <label>Phone Number</label>\n              <input\n                type=\"number\"\n                placeholder=\"Enter Your Phone Number\"\n                name=\"phone\"\n                autoComplete=\"false\"\n                maxLength={10}\n              />\n            </div>\n            <button className=\"main-button\" type=\"submit\" id=\"sign-in-button\">\n              Sign in\n            </button>\n          </form>\n        </div>\n      ) : (\n        <div className=\"form-wrapper\" onSubmit={otpSubmit}>\n          <form id=\"otpForm\">\n            <div className=\"input-field-login\">\n              <label>Enter OTP</label>\n              <input\n                type=\"number\"\n                name=\"otp_value\"\n                autoComplete=\"false\"\n                maxLength={6}\n              />\n            </div>\n            <button className=\"main-button\" type=\"submit\">\n              Verify OTP\n            </button>\n          </form>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default SignIn;\n","import React from \"react\";\n\nconst Home = ({ signOut, user }) => {\n  console.log(user);\n  return (\n    <div className=\"wrapper\">\n      <h1 className=\"main-heading\">Welcome ðŸ‘‹, {user.phoneNumber}</h1>\n      <button className=\"main-button\" id=\"signOut\" onClick={signOut}>\n        Sign Out\n      </button>\n    </div>\n  );\n};\n\nexport default Home;\n","import React, { useEffect, useState } from \"react\";\nimport \"./App.css\";\n\nimport firebase from \"firebase/app\";\nimport \"firebase/auth\";\n\n// react router\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\n\n//components\nimport SignIn from \"./components/SignIn\";\nimport Home from \"./components/Home\";\n\nconst App = () => {\n  const [viewOtpForm, setViewOtpForm] = useState(false);\n  const [user, setUser] = useState(false);\n  const firebaseConfig = {\n    apiKey: \"AIzaSyBPlUUoZRP4LhuXUsv_0WgSMtj2du5DI5k\",\n    authDomain: \"trackman-bysavio.firebaseapp.com\",\n    projectId: \"trackman-bysavio\",\n    storageBucket: \"trackman-bysavio.appspot.com\",\n    messagingSenderId: \"540424581903\",\n    appId: \"1:540424581903:web:1149938fd35dccc859047a\",\n    measurementId: \"G-LPHWV1CQWG\",\n  };\n\n  useEffect(() => {\n    window.recaptchaVerifier = new firebase.auth.RecaptchaVerifier(\n      \"recaptcha-container\",\n      {\n        size: \"invisible\",\n        callback: function (response) {\n          console.log(\"Captcha Resolved\");\n          this.onSignInSubmit();\n        },\n        defaultCountry: \"IN\",\n      }\n    );\n  }, []);\n\n  if (!firebase.apps.length) {\n    firebase.initializeApp(firebaseConfig);\n  } else {\n    firebase.app(); // if already initialized, use that one\n  }\n\n  const auth = firebase.auth();\n\n  auth.onAuthStateChanged((user) => {\n    if (user) {\n      setUser(user);\n    }\n  });\n\n  const loginSubmit = (e) => {\n    e.preventDefault();\n\n    let phone_number = \"+91\" + e.target.phone.value;\n    const appVerifier = window.recaptchaVerifier;\n\n    auth\n      .signInWithPhoneNumber(phone_number, appVerifier)\n      .then((confirmationResult) => {\n        // SMS sent. Prompt user to type the code from the message, then sign the\n        // user in with confirmationResult.confirm(code).\n        console.log(\"otp sent\");\n        alert('otp sent to your mobile number')\n        setViewOtpForm(true);\n        window.confirmationResult = confirmationResult;\n        // ...\n      })\n      .catch((error) => {\n        // Error; SMS not sent\n        // ...\n        alert(error.message);\n      });\n  };\n\n  const otpSubmit = (e) => {\n    e.preventDefault();\n\n    let opt_number = e.target.otp_value.value;\n    console.log(opt_number)\n\n    window.confirmationResult\n      .confirm(opt_number)\n      .then((confirmationResult) => {\n        console.log(confirmationResult);\n        console.log(\"success\");\n        window.open(\"/\", \"_self\");\n      })\n      .catch((error) => {\n        // User couldn't sign in (bad verification code?)\n        alert(error.message);\n      });\n  };\n\n  const signOut = () => {\n    firebase\n      .auth()\n      .signOut()\n      .then(() => {\n        window.open(\"/signin\", \"_self\");\n      })\n      .catch((error) => {\n        // An error happened.\n        console.log(error);\n      });\n  };\n\n  return (\n    <Router>\n      <div id=\"recaptcha-container\"></div>\n      <Switch>\n        <Route path=\"/\" exact>\n          <Home signOut={signOut} user={user} />\n        </Route>\n        <Route path=\"/signin\" exact>\n          <SignIn\n            loginSubmit={loginSubmit}\n            otpSubmit={otpSubmit}\n            viewOtpForm={viewOtpForm}\n          />\n        </Route>\n      </Switch>\n    </Router>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}