(this["webpackJsonpfirebase-otp"]=this["webpackJsonpfirebase-otp"]||[]).push([[0],{27:function(e,t,n){},35:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),c=n(20),o=n.n(c),s=n(18),r=(n(27),n(10)),l=(n(28),n(21)),u=n(3),b=n(2),p=function(e){var t=e.loginSubmit,n=e.otpSubmit,a=e.viewOtpForm;return Object(b.jsxs)("div",{className:"wrapper",children:[Object(b.jsx)("h1",{className:"main-heading",children:"PHONE VERIFICATION"}),Object(b.jsx)("hr",{}),a?Object(b.jsx)("div",{className:"form-wrapper",onSubmit:n,children:Object(b.jsxs)("form",{id:"otpForm",children:[Object(b.jsxs)("div",{className:"input-field-login",children:[Object(b.jsx)("label",{children:"Enter OTP"}),Object(b.jsx)("input",{type:"number",name:"otp_value",autoComplete:"false",maxLength:6})]}),Object(b.jsx)("button",{className:"main-button",type:"submit",children:"Verify OTP"})]})}):Object(b.jsx)("div",{className:"form-wrapper",children:Object(b.jsxs)("form",{id:"loginForm",onSubmit:t,children:[Object(b.jsxs)("div",{className:"input-field-login",children:[Object(b.jsx)("label",{children:"Phone Number"}),Object(b.jsx)("input",{type:"number",placeholder:"Enter Your Phone Number",name:"phone",autoComplete:"false",maxLength:10})]}),Object(b.jsx)("button",{className:"main-button",type:"submit",id:"sign-in-button",children:"Sign in"})]})})]})},m=function(e){var t=e.signOut,n=e.user;return console.log(n),Object(b.jsxs)("div",{className:"wrapper",children:[Object(b.jsxs)("h1",{className:"main-heading",children:["Welcome \ud83d\udc4b, ",n.phoneNumber]}),Object(b.jsx)("button",{className:"main-button",id:"signOut",onClick:t,children:"Sign Out"})]})},h=function(){var e=Object(a.useState)(!1),t=Object(s.a)(e,2),n=t[0],i=t[1],c=Object(a.useState)(!1),o=Object(s.a)(c,2),h=o[0],j=o[1];Object(a.useEffect)((function(){window.recaptchaVerifier=new r.a.auth.RecaptchaVerifier("recaptcha-container",{size:"invisible",callback:function(e){console.log("Captcha Resolved"),this.onSignInSubmit()},defaultCountry:"IN"})}),[]),r.a.apps.length?r.a.app():r.a.initializeApp({apiKey:"AIzaSyBPlUUoZRP4LhuXUsv_0WgSMtj2du5DI5k",authDomain:"trackman-bysavio.firebaseapp.com",projectId:"trackman-bysavio",storageBucket:"trackman-bysavio.appspot.com",messagingSenderId:"540424581903",appId:"1:540424581903:web:1149938fd35dccc859047a",measurementId:"G-LPHWV1CQWG"});var d=r.a.auth();d.onAuthStateChanged((function(e){e&&j(e)}));return Object(b.jsxs)(l.a,{children:[Object(b.jsx)("div",{id:"recaptcha-container"}),Object(b.jsxs)(u.c,{children:[Object(b.jsx)(u.a,{path:"/",exact:!0,children:Object(b.jsx)(m,{signOut:function(){r.a.auth().signOut().then((function(){window.open("/signin","_self")})).catch((function(e){console.log(e)}))},user:h})}),Object(b.jsx)(u.a,{path:"/signin",exact:!0,children:Object(b.jsx)(p,{loginSubmit:function(e){e.preventDefault();var t="+91"+e.target.phone.value,n=window.recaptchaVerifier;d.signInWithPhoneNumber(t,n).then((function(e){console.log("otp sent"),alert("otp sent to your mobile number"),i(!0),window.confirmationResult=e})).catch((function(e){alert(e.message)}))},otpSubmit:function(e){e.preventDefault();var t=e.target.otp_value.value;console.log(t),window.confirmationResult.confirm(t).then((function(e){console.log(e),console.log("success"),window.open("/","_self")})).catch((function(e){alert(e.message)}))},viewOtpForm:n})})]})]})};o.a.render(Object(b.jsx)(i.a.StrictMode,{children:Object(b.jsx)(h,{})}),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.cd847021.chunk.js.map